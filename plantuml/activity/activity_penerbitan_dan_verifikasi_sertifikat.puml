@startuml
partition Issuer {
  start
  :Login via MetaMask;
  :Pilih menu Issue Certificate;
  :Pilih template;
  :Isi data penerima;
  :Submit form penerbitan;
}
partition System {
  :Validasi data;
  if (Data valid?) then (ya)
    :Generate PDF sertifikat;
    :Upload PDF ke IPFS;
    :Generate hash;
    :Simpan data ke database (status draft);
    :Tampilkan pesan sukses;
    :Publish ke blockchain (jika diminta);
  else (tidak)
    :Tampilkan error validasi;
  endif
}
partition Verifier/User {
  :Akses halaman verifikasi;
  :Input CID/URL sertifikat;
}
partition System {
  :Download file dari IPFS;
  if (File ditemukan?) then (ya)
    :Hitung hash file;
    :Ambil hash dari blockchain;
    :Bandingkan hash;
    if (Hash cocok?) then (ya)
      :Tampilkan sertifikat valid & detail;
    else (tidak)
      :Tampilkan sertifikat tidak valid;
    endif
  else (tidak)
    :Tampilkan error file tidak ditemukan;
  endif
}
end
@enduml 